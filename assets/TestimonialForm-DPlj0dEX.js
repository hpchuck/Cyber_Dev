import{c as j,u as v,r as o,j as e,m as n,X as N,U as w,B as k}from"./main-Ccalwsk9.js";import{U as S}from"./upload-Czh39xQ2.js";import{S as _}from"./star-bnKx9OXF.js";import{S as E}from"./send-hVljc5QJ.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=j("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),M="https://api.emailjs.com/api/v1.0/email/send",R="your_service_id",T="your_template_id",C="your_user_id",z=()=>{const{addTestimonial:b}=v(),i=o.useRef(null),[s,r]=o.useState({name:"",role:"",company:"",content:"",rating:5}),[c,d]=o.useState(null),[u,p]=o.useState(!1),[h,m]=o.useState("idle"),g=a=>{var x;const t=(x=a.target.files)==null?void 0:x[0];if(!t)return;if(t.size>5*1024*1024){alert("Image size should be less than 5MB");return}const l=new FileReader;l.onloadend=()=>{d(l.result)},l.readAsDataURL(t)},f=async a=>{try{(await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service_id:R,template_id:T,user_id:C,template_params:{from_name:a.name,from_company:a.company,from_role:a.role,message:a.content,rating:a.rating}})})).ok||console.error("Failed to send email notification")}catch(t){console.error("Error sending email notification:",t)}},y=async a=>{a.preventDefault(),p(!0);try{const t={...s,avatar:c||void 0};b(t),await f(t),m("success"),r({name:"",role:"",company:"",content:"",rating:5}),d(null)}catch{m("error")}finally{p(!1),setTimeout(()=>m("idle"),3e3)}},F=()=>{d(null),i.current&&(i.current.value="")};return e.jsxs("section",{className:"py-20 px-4 md:px-8 min-h-screen relative",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-black/50 to-transparent"}),e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-2xl mx-auto relative z-10",children:[e.jsx("h2",{className:"section-heading text-[#00FF41] mb-8",children:"SHARE_YOUR_EXPERIENCE"}),e.jsxs(n.form,{onSubmit:y,className:"space-y-6 backdrop-blur-md bg-black/30 border border-[#00FF41]/20 rounded-lg p-8",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative w-32 h-32 group",children:[c?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:c,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-2 border-[#00FF41]/30"}),e.jsx("button",{type:"button",onClick:F,className:"absolute -top-2 -right-2 p-1 bg-red-500 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(N,{className:"w-4 h-4"})})]}):e.jsx("div",{className:"w-32 h-32 rounded-full border-2 border-dashed border-[#00FF41]/30 flex items-center justify-center bg-black/30",children:e.jsx(S,{className:"w-8 h-8 text-[#00FF41]/50"})}),e.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:g,className:"hidden",id:"avatar-upload"}),e.jsx(n.label,{htmlFor:"avatar-upload",className:"absolute inset-0 cursor-pointer rounded-full",whileHover:{scale:1.05},whileTap:{scale:.95}})]}),e.jsx("p",{className:"text-sm text-[#00FF41]/70",children:"Upload your photo (optional)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#00FF41] mb-2 flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"})," Name"]}),e.jsx("input",{type:"text",value:s.name,onChange:a=>r(t=>({...t,name:a.target.value})),className:"w-full bg-black/50 border border-[#00FF41]/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#00FF41]",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#00FF41] mb-2 flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"})," Role"]}),e.jsx("input",{type:"text",value:s.role,onChange:a=>r(t=>({...t,role:a.target.value})),className:"w-full bg-black/50 border border-[#00FF41]/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#00FF41]",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#00FF41] mb-2 flex items-center gap-2",children:[e.jsx(I,{className:"w-4 h-4"})," Company"]}),e.jsx("input",{type:"text",value:s.company,onChange:a=>r(t=>({...t,company:a.target.value})),className:"w-full bg-black/50 border border-[#00FF41]/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#00FF41]",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#00FF41] mb-2",children:"Rating"}),e.jsx("div",{className:"flex gap-2",children:Array.from({length:5}).map((a,t)=>e.jsx(n.button,{type:"button",whileHover:{scale:1.2},whileTap:{scale:.9},onClick:()=>r(l=>({...l,rating:t+1})),className:"focus:outline-none",children:e.jsx(_,{className:`w-6 h-6 ${t<s.rating?"text-[#00FF41]":"text-[#00FF41]/20"}`,fill:t<s.rating?"#00FF41":"none"})},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#00FF41] mb-2",children:"Your Testimonial"}),e.jsx("textarea",{value:s.content,onChange:a=>r(t=>({...t,content:a.target.value})),rows:4,className:"w-full bg-black/50 border border-[#00FF41]/30 rounded-lg px-4 py-2 text-white focus:outline-none focus:border-[#00FF41]",required:!0})]}),e.jsx(n.button,{type:"submit",disabled:u,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full btn flex items-center justify-center gap-2",children:u?"Submitting...":e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-4 h-4"}),"Submit Testimonial"]})}),h==="success"&&e.jsx("p",{className:"text-green-500 text-center",children:"Thank you for your testimonial! It will be reviewed and published soon."}),h==="error"&&e.jsx("p",{className:"text-red-500 text-center",children:"Failed to submit testimonial. Please try again."})]})]})]})};export{z as TestimonialForm};
